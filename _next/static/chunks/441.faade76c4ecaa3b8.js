(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[441],{50441:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var n=r(57437),i=r(22960),l=r(2265),o=r(59589);r(91683),r(71601);var u=r(79418),s=r(30089),d=r(11144),c=r(4766),a=r(5085),v=r(94547),f=r(83593),g=r(71432),h=r(15785);function b(e){let t=e.role===v._b.Controller,r=(0,l.useRef)(null),b=(0,l.useRef)(null),{revealIndex:S,setRevealIndex:p}=(0,c._3)(),[x,E]=(0,l.useState)(!1),{session:m}=(0,l.useContext)(d.z),{deviceId:R}=(0,l.useContext)(a.rZ),{setSlideData:y}=(0,c.QZ)();(0,l.useEffect)(()=>{!r.current&&b.current&&(console.debug("⬆️ Presentation mount..."),r.current=new o.Z(b.current,{embedded:e.embedded,controls:t,keyboard:t,touch:t,overview:!1,help:t,hideInactiveCursor:!t,showNotes:!1,plugins:[]}),console.debug("initialising reveal..."),r.current.initialize({controlsTutorial:!1,slideNumber:t?"c/t":void 0,progress:!1,controlsBackArrows:"faded",controlsLayout:"edges",scrollActivationWidth:void 0}).then(()=>{console.debug("Reveal: initialised"),E(!0),r.current.slide(null!=S?S:0),C(null!=S?S:0),r.current.on("slidechanged",e=>{p(r.current.getState().indexh)})}).catch(e=>console.error(e)))},[]),(0,l.useEffect)(()=>{if((0,g.r)(r.current)&&x&&r.current.getState().indexh!==m.liveExperienceState.slideX&&m.liveExperienceState.originator!==R){var e;console.debug("incoming liveExperienceState slide index: ".concat(m.liveExperienceState.slideX),m.liveExperienceState),null===(e=r.current)||void 0===e||e.slide(m.liveExperienceState.slideX)}},[m.liveExperienceState.slideX,r,x]),(0,l.useEffect)(()=>{console.debug("reveal slide index: ".concat(S)),C(null!=S?S:0)},[S]);let C=e=>{var t;if(!(0,g.r)(r.current)||!(0,g.r)(y))return;let n=r.current.getSlide(e),i=(0,g.r)(n),l=null!==(t=r.current.getSlideNotes(n))&&void 0!==t?t:"";y(i?w(e,n,l):h.I)},w=(e,t,r)=>{var n,i,l;let o=null!==(n=(0,s.kh)(t.getAttribute("qids")))&&void 0!==n?n:[],d=t.getAttribute("secs"),c=(0,g.r)(d)?parseFloat(d):void 0,a=t.getAttribute("activity"),v=(0,g.r)(a)?(0,s.pC)(a):h.S.default;return{index:e,notes:r,qids:o,secs:c,activity:v,recordingId:null!==(i=t.getAttribute("recording"))&&void 0!==i?i:void 0,transitionSound:null===(l=(0,u.$Q)(t.getAttribute("transition-sound")))||void 0===l||l}};(0,l.useEffect)(()=>()=>{r.current&&r.current.isReady()&&(console.debug("⬇️ Presentation unmount..."),r.current.destroy(),r.current=null)},[]);let[_,k]=(0,l.useState)();(0,l.useEffect)(()=>(f.Z.on(f.M.Request_SlideRefresh,k),()=>{f.Z.off(f.M.Request_SlideRefresh,k)}),[]),(0,l.useEffect)(()=>{void 0!==_&&_.type===f.M.Request_SlideRefresh&&A()},[_]);let A=(0,l.useCallback)(()=>{setTimeout(()=>{var e,t;null===(e=r.current)||void 0===e||e.syncSlide(r.current.getCurrentSlide()),null===(t=r.current)||void 0===t||t.layout()},100)},[]),N=(0,i.Z)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{ref:b,className:"reveal",style:{width:"100%",height:"100%",borderRadius:"0.5rem",border:e.showBorder?"solid 2px":void 0,borderColor:e.showBorder?N.palette.primary.main:void 0},children:(0,n.jsx)("div",{className:"slides",children:e.slides})})})}},91683:function(){},71601:function(){}}]);