(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[436],{35055:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>d});var a=l(95155),i=l(99013),r=l(69003),o=l(12115),s=l(54683),n=l(35432);function d(e){let t=(0,o.useRef)(null),[l,r]=(0,o.useState)();(0,o.useEffect)(()=>{(0,i.s)(t.current)&&r(d(e))},[e,t]);let d=e=>{let l,a=e.tiles+e.slideSpan.cols*e.slideSpan.rows,r=e.availableWidth_px*e.availableHeight_px,o=Math.min(e.availableWidth_px/e.slideSpan.cols,Math.sqrt(r/a*e.aspectRatio)),n=(0,s.toPx)(t.current,e.minCellWidth),d=(0,s.toPx)(t.current,e.gap);if(o<n)return p(n,e,n,d);let c=o;for(;c>=n;){var x;let t=p(c,e,n,d);if(t.fitsByHeight&&t.score>(null!=(x=null==l?void 0:l.score)?x:0)&&(l=t),(0,i.s)(l)&&l.remainingAreaPerPage>t.tileArea)break;c-=1}return null!=l?l:p(n,e,n,d)},p=(e,t,l,a)=>{let i=t.tiles+t.slideSpan.cols*t.slideSpan.rows,r=e/t.aspectRatio,o=Math.max(t.slideSpan.cols,Math.floor(t.availableWidth_px/e)),s=Math.ceil(i/o)*r<t.availableHeight_px,n=e*r,d=t.availableWidth_px*t.availableHeight_px,c=n*i,p=c<=d,h=Math.floor(t.availableHeight_px/r),u=h>=t.slideSpan.rows?(o-t.slideSpan.cols)*t.slideSpan.rows+(h-t.slideSpan.rows)*o:(o-t.slideSpan.cols)*h,g=n*u,b=x(t.optimisation,e,r,c);return{calculatedCellWidth:(e*o-a*(o-1))/o,calculatedCellHeight:(r*h-a*(h-1))/h,calculatedCols:o,calculatedRows:h,availableArea:d,tileArea:n,totalArea:c,fitsByHeight:s,fitsBtArea:p,tilesPerPage:u,totalAreaPerPage:g,remainingAreaPerPage:d-g,score:b,fixed:{minCellWidth_px:l,gap_px:a}}},x=(e,t,l,a)=>{switch(e){case n.l.TileWidth:return t*l;case n.l.TiledArea:return a;default:throw Error("Unknown optimisation: ".concat(e))}};return(0,a.jsx)(a.Fragment,{children:l&&(0,a.jsx)(c,{inputs:e,calculations:l,eleRef:t})})}function c(e){let{inputs:t,calculations:l,eleRef:i}=e,o={display:"grid",maxWidth:t.availableWidth_px,maxHeight:t.availableHeight_px,gridAutoFlow:"row",gridTemplateColumns:"repeat(auto-fit, ".concat(l.calculatedCellWidth,"px)"),gap:t.gap,boxSizing:"border-box",overflow:"hidden"},s={objectFit:"contain",width:"".concat(l.calculatedCellWidth,"px"),height:"".concat(l.calculatedCellHeight,"px"),boxSizing:"border-box",border:"solid 1px grey",positionVisibility:"no-overflow",padding:"0.5rem",borderRadius:"0.4rem",backgroundColor:"darkgrey",color:"white"},n={...s,width:"".concat(l.calculatedCellWidth*t.slideSpan.cols+l.fixed.gap_px*(t.slideSpan.cols-1),"px"),height:"".concat(l.calculatedCellHeight*t.slideSpan.rows+l.fixed.gap_px*(t.slideSpan.rows-1),"px"),gridRowEnd:"span ".concat(t.slideSpan.rows),gridColumnEnd:"span ".concat(t.slideSpan.cols),overflow:"hidden",padding:"0.5rem",borderRadius:"0.4rem",backgroundColor:"white",color:"black"};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(r.A,{sx:o,ref:i,children:[(0,a.jsx)(r.A,{sx:n,children:(0,a.jsxs)(r.A,{sx:{maxWidth:"100%",maxHeight:"100%",overflow:"auto",columns:2},children:[(0,a.jsx)("b",{children:"Slide"}),(0,a.jsxs)("p",{children:[l.fitsByHeight?(0,a.jsx)("span",{style:{color:"green"},children:"All tiles fit by height"}):(0,a.jsx)("span",{style:{color:"red"},children:"Cannot fit all tiles height"}),(0,a.jsx)("br",{}),l.fitsBtArea?(0,a.jsx)("span",{style:{color:"green"},children:"All tiles fit by area"}):(0,a.jsx)("span",{style:{color:"red"},children:"Cannot fit all tiles by area"}),(0,a.jsx)("br",{}),"Available width: ",t.availableWidth_px,"px",(0,a.jsx)("br",{}),"Available height: ",t.availableHeight_px,"px",(0,a.jsx)("br",{}),"Available area: ",l.availableArea.toFixed(1)," px\xb2",(0,a.jsx)("br",{}),"Tiles requested: ",t.tiles,(0,a.jsx)("br",{}),"Tiles per page: ",l.tilesPerPage,(0,a.jsx)("br",{}),"Aspect ratio: ",t.aspectRatio.toFixed(2),(0,a.jsx)("br",{}),"Minimum tile width: ",t.minCellWidth," (",l.fixed.minCellWidth_px.toFixed(1),"px)",(0,a.jsx)("br",{}),"Calculated tile width: ",l.calculatedCellWidth.toFixed(1),"px",(0,a.jsx)("br",{}),"Calculated tile height: ",l.calculatedCellHeight.toFixed(1),"px",(0,a.jsx)("br",{}),"Tile area: ",l.tileArea.toFixed(1)," px\xb2",(0,a.jsx)("br",{}),"Calculated columns: ",l.calculatedCols,(0,a.jsx)("br",{}),"Calculated rows: ",l.calculatedRows,(0,a.jsx)("br",{}),"Total area: ",l.totalAreaPerPage.toFixed(1)," px\xb2",(0,a.jsx)("br",{}),"Remaining area: ",l.remainingAreaPerPage.toFixed(1)," px\xb2"]})]})}),Array.from({length:Math.min(t.tiles,l.tilesPerPage)},(e,t)=>(0,a.jsx)(r.A,{sx:s,children:(0,a.jsxs)("b",{children:["Tile: ",t]})},"tile-".concat(t)))]})})}},54683:function(e,t,l){var a,i,r;i="undefined"!=typeof self?self:"undefined"!=typeof window?window:this,r=function(e,t){"use strict";var l,a=e.createElement("test"),i=e.documentElement,r=e.defaultView,o=r&&r.getComputedStyle,s=/^(-?[\d+\.\-]+)([a-z]+|%)$/i,n={},d=[1/25.4,1/2.54,1/72,1/6],c=["mm","cm","pt","pc","in","mozmm"],p=6;for(i.appendChild(a),o&&(a.style.marginTop="1%",l="1%"===o(a).marginTop);p--;)n[c[p]+"toPx"]=d[p]?d[p]*n.inToPx:x(a,"1"+c[p]);function x(e,l,a,r){a=a||"width";var o,d,c,p=(l.match(s)||[])[2],x="px"===p?1:n[p+"toPx"];if(x||/r?em/i.test(p)&&!r)e=x?e:"rem"===p?i:"fontSize"===a&&e.parentNode||e,x=x||parseFloat(h(e,"fontSize")),c=parseFloat(l)*x;else{d=(o=e.style)[a];try{o[a]=l}catch(e){return 0}c=o[a]?parseFloat(h(e,a)):0,o[a]=t!==d?d:null}return c}function h(e,t){var a,i,r,n,d,c=["paddingTop","paddingBottom","borderTop","borderBottom"],p=4;if("%"===(r=((a=o?o(e)[t]:(i=e.style["pixel"+t.charAt(0).toUpperCase()+t.slice(1)])?i+"px":"fontSize"===t?x(e,"1em","left",1)+"px":e.currentStyle[t]).match(s)||[])[2])&&l)if(/^top|bottom/.test(t)){for(n=(d=e.parentNode||e).offsetHeight;p--;)n-=parseFloat(h(d,c[p]));a=parseFloat(a)/100*n+"px"}else a=x(e,a);else("auto"===a||r&&"px"!==r)&&o?a=0:r&&"px"!==r&&!o&&(a=x(e,a)+"px");return a}return i.removeChild(a),a=t,{toPx:x}},void 0===(a=(function(){return r(i.document)}).call(t,l,t,e))||(e.exports=a)}}]);